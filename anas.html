<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura Presentation</title>
    <style>
        /* --- RESET & BASIC --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body, html {
            width: 100%;
            overflow-x: hidden; 
            background-color: #111; 
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        /* --- LOADER --- */
        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #ffffff; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            gap: 15px;
        }
        .loader-text { font-size: 0.9rem; font-weight: 600; letter-spacing: 4px; color: #111; text-transform: uppercase; }
        .loader-percent { font-family: 'Inter', sans-serif; font-size: 4rem; font-weight: 300; color: #1a1a1a; font-variant-numeric: tabular-nums; }
        .loader-bar-bg { width: 200px; height: 2px; background: #eee; margin-top: 10px; position: relative; overflow: hidden; border-radius: 2px; }
        .loader-bar-fill { position: absolute; left: 0; top: 0; height: 100%; width: 0%; background: #111; transition: width 0.1s linear; }

        /* --- HERO --- */
        #hero-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
            z-index: 1; opacity: 0; transition: opacity 1.5s ease; background: #fff;
        }
        canvas { display: block; outline: none; }

        /* --- NAVBAR --- */
        .ui-layer {
            position: fixed; width: 100%; z-index: 20;
            display: flex; justify-content: center; pointer-events: none;
            opacity: 0; transform: translateY(-20px); transition: all 1s ease 0.5s;
        }
        .ui-visible { opacity: 1; transform: translateY(0); }
        .top-bar { top: 40px; }

        .glass-pill {
            pointer-events: auto; background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px); padding: 10px 24px; border-radius: 50px;
            display: flex; align-items: center; gap: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.06); border: 1px solid rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }
        .glass-pill:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .logo { font-weight: 800; font-size: 22px; color: #111; letter-spacing: -0.5px; }
        .menu { display: flex; gap: 20px; }
        .menu a { text-decoration: none; color: #444; font-size: 15px; font-weight: 500; transition: color 0.2s; }
        .menu a:hover { color: #000; }
        .login-btn {
            background: transparent; color: #111; border: 1px solid #ddd;
            padding: 6px 18px; border-radius: 20px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s;
        }
        .login-btn:hover { background: #111; color: #fff; border-color: #111; }

        /* --- SCROLL SPACER --- */
        .scroll-spacer { height: 100vh; width: 100%; pointer-events: none; position: relative; z-index: 2; }

        /* --- PAPER SECTION --- */
        .torn-section {
            position: relative; z-index: 5; min-height: 100vh;
            padding-top: 150px; display: flex; flex-direction: column; align-items: center;
            background-color: #f4f1ea; background-image: url("https://www.transparenttextures.com/patterns/cream-paper.png");
            box-shadow: 0px -25px 60px rgba(0,0,0,0.4); padding-bottom: 100px;
        }

        .torn-edge {
            position: absolute; top: -45px; left: 0; width: 100%; height: 50px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' preserveAspectRatio='none' viewBox='0 0 1440 100'%3E%3Cpath fill='%23f4f1ea' d='M0,50L40,20L80,50L120,20L160,50L200,20L240,50L280,20L320,50L360,20L400,50L440,20L480,50L520,20L560,50L600,20L640,50L680,20L720,50L760,20L800,50L840,20L880,50L920,20L960,50L1000,20L1040,50L1080,20L1120,50L1160,20L1200,50L1240,20L1280,50L1320,20L1360,50L1400,20L1440,50V100H0V50Z' /%3E%3C/svg%3E");
            background-size: 50px 100%; filter: drop-shadow(0px -5px 5px rgba(0,0,0,0.1));
        }

        .content-container {
            max-width: 1200px; width: 100%; display: flex; justify-content: space-between; align-items: center;
            padding: 0 50px; position: relative;
        }

        .text-block { width: 45%; }
        .headline { font-family: 'Times New Roman', serif; font-size: 3.5rem; line-height: 1.1; color: #1a1a1a; margin-bottom: 25px; font-weight: 400; }
        .subtext { font-family: 'Inter', sans-serif; font-size: 1.05rem; color: #444; line-height: 1.7; max-width: 480px; margin-bottom: 40px; text-align: justify; }

        /* --- SPLIT IMAGE ANIMATION (USING 11.gif) --- */
        .split-img-wrapper {
            width: 320px; height: 570px; /* Shorts Ratio */
            position: relative; margin-top: -150px; z-index: 20;
        }

        .split-part {
            position: absolute; top: 0; width: 100%; height: 100%;
            /* HERE IS THE GIF */
            background-image: url('11.gif'); 
            background-size: cover;
            background-position: center;
            transition: transform 1.2s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 1.2s ease;
            opacity: 0; border-radius: 12px; box-shadow: 0 30px 50px rgba(0,0,0,0.3);
        }

        .split-part.left {
            clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
            transform: translateX(-50px) rotate(-5deg);
        }
        .split-part.right {
            clip-path: polygon(50% 0, 100% 0, 100% 100%, 50% 100%);
            transform: translateX(50px) rotate(5deg);
        }

        /* Joined State */
        .split-img-wrapper.visible .split-part {
            transform: translateX(0) rotate(0deg); opacity: 1;
        }

        /* --- 3D BUTTON --- */
        .button-wrapper {
            margin-top: 10px; opacity: 0; transform: translateY(40px);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .button-wrapper.visible { opacity: 1; transform: translateY(0); }

        .btn-3d {
            position: relative; display: inline-block; cursor: pointer; outline: none; border: 0; text-decoration: none;
            background: transparent; padding: 0; font-size: 1.1rem; font-family: 'Inter', sans-serif; font-weight: 700; width: 280px;
        }
        .btn-3d .btn-front {
            position: relative; display: block; padding: 18px 40px;
            border-radius: 12px; background: #1a1a1a; color: #fff;
            transform: translateY(-6px); transition: transform 0.1s cubic-bezier(0.3, 0.7, 0.4, 1.5);
            z-index: 2; border: 1px solid #333; text-align: center;
        }
        .btn-3d .btn-edge {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 12px; background: #000000; z-index: 1;
        }
        .btn-3d:hover .btn-front { transform: translateY(-9px); background: #2a2a2a; }
        .btn-3d:active .btn-front { transform: translateY(-2px); }

    </style>
</head>
<body>

    <div id="loader">
        <div class="loader-percent" id="loader-percent">0%</div>
        <div class="loader-text">LOADING ASSETS</div>
        <div class="loader-bar-bg"><div class="loader-bar-fill" id="loader-fill"></div></div>
    </div>

    <div id="hero-container">
        <canvas id="webgl-canvas"></canvas>
    </div>

    <div class="ui-layer top-bar" id="navbar">
        <div class="glass-pill">
            <div class="logo">aura</div>
            <div class="menu">
                <a href="#">Home</a>
                <a href="#">Benefits</a>
                <a href="#">Tutorials</a>
            </div>
            <button class="login-btn">Log in</button>
        </div>
    </div>

    <div class="scroll-spacer"></div>

    <div class="torn-section">
        <div class="torn-edge"></div>

        <div class="content-container">
            <div class="text-block">
                <h1 class="headline">Immersive <br><em>Digital</em> Journey.</h1>
                <p class="subtext">
                    This is an advanced animation presentation showcasing the power of 3D web technologies. 
                    We blend infinite spatial environments with tactile design elements to create a seamless user experience. 
                    Click below to enter the full interactive presentation and explore the future of digital storytelling.
                </p>
                <div class="button-wrapper" id="anim-btn">
                    <a href="presentation.html" class="btn-3d">
                        <span class="btn-edge"></span>
                        <span class="btn-front">Enter Presentation</span>
                    </a>
                </div>
            </div>

            <div class="split-img-wrapper" id="split-anim">
                <div class="split-part left"></div>
                <div class="split-part right"></div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
        // --- OBSERVERS ---
        const btnObserver = new IntersectionObserver(entries => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
        }, { threshold: 0.1 });
        btnObserver.observe(document.querySelector('#anim-btn'));

        const imgObserver = new IntersectionObserver(entries => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
        }, { threshold: 0.2 });
        imgObserver.observe(document.querySelector('#split-anim'));


        // --- CONFIGURATION ---
        const tunnelImages = [
            "1.jpg", "2.jpg", "3.jpg", "4.jpg", "5.jpg", 
            "6.jpg", "7.jpg", "8.jpg", "9.jpg", "10.jpg"
        ];

        const CONFIG = {
            hallwayLength: 240, 
            targetSpeed: 8,      
            currentSpeed: 0,     
            imagesPerSide: 5  
        };

        // --- LOADER MANAGER ---
        const manager = new THREE.LoadingManager();
        const loaderPercent = document.getElementById('loader-percent');
        const loaderFill = document.getElementById('loader-fill');

        manager.onProgress = function (url, itemsLoaded, itemsTotal) {
            const progress = Math.round((itemsLoaded / itemsTotal) * 100);
            loaderPercent.innerText = progress + "%";
            loaderFill.style.width = progress + "%";
        };

        manager.onLoad = function () {
            // Hide Loader
            gsap.to('#loader', { opacity: 0, duration: 0.8, onComplete: () => {
                document.getElementById('loader').style.display = 'none';
            }});

            // Show Site
            document.getElementById('hero-container').style.opacity = '1';
            document.getElementById('navbar').classList.add('ui-visible');
            gsap.to(CONFIG, { currentSpeed: CONFIG.targetSpeed, duration: 2.5, ease: "power2.out" });
        };

        const textureLoader = new THREE.TextureLoader(manager);
        
        // --- THREE.JS SCENE ---
        const canvas = document.querySelector('#webgl-canvas');
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0xffffff);

        const sizes = { width: window.innerWidth, height: window.innerHeight };
        const camera = new THREE.PerspectiveCamera(90, sizes.width / sizes.height, 0.1, 1000);
        camera.position.set(0, 0, 0);

        const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
        renderer.setSize(sizes.width, sizes.height);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

        // --- TUNNEL BUILD ---
        const hallwayWidth = 12;
        const hallwayHeight = 12;

        function createSection() {
            const group = new THREE.Group();
            const points = [];
            const segments = 40; 
            for (let i = 0; i <= segments; i++) {
                const z = - (i / segments) * CONFIG.hallwayLength;
                points.push(new THREE.Vector3(-hallwayWidth, hallwayHeight, z), new THREE.Vector3(hallwayWidth, hallwayHeight, z), new THREE.Vector3(hallwayWidth, hallwayHeight, z), new THREE.Vector3(hallwayWidth, -hallwayHeight, z), new THREE.Vector3(hallwayWidth, -hallwayHeight, z), new THREE.Vector3(-hallwayWidth, -hallwayHeight, z), new THREE.Vector3(-hallwayWidth, -hallwayHeight, z), new THREE.Vector3(-hallwayWidth, hallwayHeight, z));
            }
            for (let i = 0; i <= 10; i++) {
                const off = (i / 10) * (hallwayWidth * 2) - hallwayWidth;
                points.push(new THREE.Vector3(off, -hallwayHeight, 0), new THREE.Vector3(off, -hallwayHeight, -CONFIG.hallwayLength));
                points.push(new THREE.Vector3(off, hallwayHeight, 0), new THREE.Vector3(off, hallwayHeight, -CONFIG.hallwayLength));
                points.push(new THREE.Vector3(-hallwayWidth, off, 0), new THREE.Vector3(-hallwayWidth, off, -CONFIG.hallwayLength));
                points.push(new THREE.Vector3(hallwayWidth, off, 0), new THREE.Vector3(hallwayWidth, off, -CONFIG.hallwayLength));
            }
            const gridGeo = new THREE.BufferGeometry().setFromPoints(points);
            const gridMat = new THREE.LineBasicMaterial({ color: 0x111111, opacity: 1 });
            const grid = new THREE.LineSegments(gridGeo, gridMat);
            group.add(grid);

            const imgGeo = new THREE.PlaneGeometry(8, 6);
            const spacing = CONFIG.hallwayLength / CONFIG.imagesPerSide; 

            for (let i = 0; i < CONFIG.imagesPerSide; i++) {
                const zPos = - (i * spacing) - 10; 
                // Load tunnel images 1-10
                const leftUrl = tunnelImages[i] || ""; 
                const leftTex = textureLoader.load(leftUrl);
                const leftMat = new THREE.MeshBasicMaterial({ map: leftTex, transparent: true, side: THREE.DoubleSide });
                const leftMesh = new THREE.Mesh(imgGeo, leftMat);
                leftMesh.position.set(-hallwayWidth + 0.1, 0, zPos);
                leftMesh.rotation.y = Math.PI / 2;
                leftMesh.add(new THREE.LineSegments(new THREE.EdgesGeometry(imgGeo), new THREE.LineBasicMaterial({ color: 0x000000 })));
                group.add(leftMesh);

                const rightUrl = tunnelImages[i + 5] || "";
                const rightTex = textureLoader.load(rightUrl);
                const rightMat = new THREE.MeshBasicMaterial({ map: rightTex, transparent: true, side: THREE.DoubleSide });
                const rightMesh = new THREE.Mesh(imgGeo, rightMat);
                rightMesh.position.set(hallwayWidth - 0.1, 0, zPos);
                rightMesh.rotation.y = -Math.PI / 2;
                rightMesh.add(new THREE.LineSegments(new THREE.EdgesGeometry(imgGeo), new THREE.LineBasicMaterial({ color: 0x000000 })));
                group.add(rightMesh);
            }
            return group;
        }

        const section1 = createSection();
        const section2 = createSection();
        section1.position.z = 0;
        section2.position.z = -CONFIG.hallwayLength;
        scene.add(section1);
        scene.add(section2);

        const clock = new THREE.Clock();
        const mouse = { x: 0, y: 0 };
        const targetRotation = { x: 0, y: 0 };

        window.addEventListener('mousemove', (e) => {
            mouse.x = (e.clientX / sizes.width) * 2 - 1;
            mouse.y = -(e.clientY / sizes.height) * 2 + 1;
        });

        function tick() {
            const delta = clock.getDelta();
            const moveZ = CONFIG.currentSpeed * delta;
            section1.position.z += moveZ;
            section2.position.z += moveZ;
            const loopResetDistance = CONFIG.hallwayLength * 2;
            if (section1.position.z >= CONFIG.hallwayLength) section1.position.z -= loopResetDistance;
            if (section2.position.z >= CONFIG.hallwayLength) section2.position.z -= loopResetDistance;

            targetRotation.x = mouse.y * 0.05;
            targetRotation.y = mouse.x * 0.05;
            camera.rotation.x += (targetRotation.x - camera.rotation.x) * 0.05; 
            camera.rotation.y += (targetRotation.y - camera.rotation.y) * 0.05;
            renderer.render(scene, camera);
            requestAnimationFrame(tick);
        }
        tick();

        window.addEventListener('resize', () => {
            sizes.width = window.innerWidth;
            sizes.height = window.innerHeight;
            camera.aspect = sizes.width / sizes.height;
            camera.updateProjectionMatrix();
            renderer.setSize(sizes.width, sizes.height);
        });

    </script>
</body>
</html>
